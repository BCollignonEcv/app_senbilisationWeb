import{_ as h,B as S,u as y,S as A}from"./index.6dba2818.js";import{r as u,o as t,c as r,F as Q,m as g,b as l,w as o,d as C,h as m,t as _,a as i,e as w,T as B}from"./vendor.87de32f6.js";const N={name:"assessmentNavigation",props:["questions"],components:{ButtonComponent:S},setup(){return{assessmentStore:y()}},methods:{haveAnswer(e){if(e.userAnswer===null)return"";if(e.userAnswer)return"correct";if(!e.userAnswer)return"incorrect"},endAssessment(){this.$router.push("/")}}},q={class:"assessmentNavigation"},P=C("Quitter");function L(e,d,n,s,v,a){const p=u("ButtonComponent"),f=u("RouterLink");return t(),r("div",q,[(t(!0),r(Q,null,g(n.questions,c=>(t(),m(f,{key:c.id,to:`/questions/${c.id}`},{default:o(()=>[l(p,{type:"round",typeColor:a.haveAnswer(c)},{default:o(()=>[C(_(c.id),1)]),_:2},1032,["typeColor"])]),_:2},1032,["to"]))),128)),l(p,{onClick:d[0]||(d[0]=c=>a.endAssessment())},{default:o(()=>[P]),_:1})])}var b=h(N,[["render",L]]);const T={name:"Proposition",props:["proposition"]},V={class:"proposition"},D={class:"title"},E={class:"content"};function F(e,d,n,s,v,a){return t(),r("div",V,[i("p",D,"Proposition "+_(n.proposition.id)+" :",1),i("div",E,[i("p",null,_(n.proposition.label),1)])])}var M=h(T,[["render",F]]);const R={name:"Correction",props:["question"],computed:{}},H={class:"correction"},W={class:"content"},j={key:0,class:"validation validation__correct"},z={key:1,class:"validation validation__wrong"};function G(e,d,n,s,v,a){return t(),r("div",H,[i("div",W,[n.question.userAnswer?(t(),r("h3",j,"Correct")):(t(),r("h3",z,"Wrong")),i("p",null,_(n.question.correction),1)]),w(e.$slots,"actions")])}var I=h(R,[["render",G]]);const J={name:"Question",components:{SectionComponent:A,ButtonComponent:S,AssessmentNavigation:b,Proposition:M,Correction:I},props:["id"],data(){return{}},setup(){const e=y();return e.startAssessment(),{assessmentStore:e}},created(){this.$router.push(`/questions/${this.assessmentStore.currentQuestion.id}`)},mounted(){},updated(){this.assessmentStore.nextQuestion(this.id)},methods:{validateQuestion(e){this.correctionMode=!0,this.assessmentStore.validateQuestion(e)},nextQuestion(){this.correctionMode=!1,this.assessmentStore.nextQuestion(),this.assessmentStore.status==="END"?this.$router.push("/results"):this.$router.push(`/questions/${this.assessmentStore.currentQuestion.id}`)}}},K={class:"content"},O={key:0,class:"propositions"},U=C("Continue");function X(e,d,n,s,v,a){const p=u("AssessmentNavigation"),f=u("Proposition"),c=u("ButtonComponent"),k=u("Correction"),x=u("SectionComponent");return t(),m(x,{type:"splited",height:"fullHeight"},{left:o(()=>[i("div",K,[l(p,{questions:s.assessmentStore.assessment.questions},null,8,["questions"]),i("h2",null,"Question "+_(s.assessmentStore.currentQuestion.id)+" :",1),i("p",null,_(s.assessmentStore.currentQuestion.label),1)])]),right:o(()=>[l(B,{name:"slideLeft",mode:"out-in"},{default:o(()=>[s.assessmentStore.currentQuestion.userAnswer===null?(t(),r("div",O,[(t(!0),r(Q,null,g(s.assessmentStore.currentQuestion.proposals,$=>(t(),m(f,{key:$.id,proposition:$,onClick:Y=>a.validateQuestion($.id)},null,8,["proposition","onClick"]))),128))])):(t(),m(k,{key:1,question:s.assessmentStore.currentQuestion},{actions:o(()=>[l(c,{type:"large",onClick:a.nextQuestion},{default:o(()=>[U]),_:1},8,["onClick"])]),_:1},8,["question"]))]),_:1})]),_:1})}var te=h(J,[["render",X]]);export{te as default};
