import{_ as v,B as q,u as Q,S as x,A as N}from"./index.01cc136c.js";import{o as s,c as i,a as o,n as b,r as c,F as f,q as A,b as h,w as d,d as $,h as p,t as l,g as w,f as B,T as I}from"./vendor.8525e0f4.js";const L={props:{filename:{type:String,default:""},size:{type:String,default:"Default"}},data(){return{allowedClass:{size:["Default","large","medium","small","fullWidth","fullHeight"]}}},computed:{classObject(){let t=[];for(const[r,e]of Object.entries(this.$props))e!="Default"&&this.allowedClass[r]&&this.allowedClass[r].includes(e)&&t.push(`img-${e}`);return t}}},T=["src"];function z(t,r,e,n,g,a){return s(),i("figure",{class:b(a.classObject)},[o("img",{src:"/img/"+e.filename,alt:"",srcset:""},null,8,T)],2)}var j=v(L,[["render",z],["__scopeId","data-v-12c66c7a"]]);const D={name:"assessmentNavigation",props:["questions"],components:{Button:q},setup(){return{assessmentStore:Q()}},methods:{haveAnswer(t){if(t.userAnswer===null)return"";if(t.userAnswer)return"correct";if(!t.userAnswer)return"incorrect"},resetAssessment(){this.$router.push("/"),this.assessmentStore.resetAssessment()}}},H={class:"assessmentNavigation"},O=$("Quitter");function P(t,r,e,n,g,a){const _=c("Button"),m=c("RouterLink");return s(),i("div",H,[(s(!0),i(f,null,A(e.questions,u=>(s(),p(m,{key:u.id,to:`/questions/${u.id}`},{default:d(()=>[h(_,{type:"round",typeColor:a.haveAnswer(u)},{default:d(()=>[$(l(u.id),1)]),_:2},1032,["typeColor"])]),_:2},1032,["to"]))),128)),h(_,{onClick:r[0]||(r[0]=u=>a.resetAssessment())},{default:d(()=>[O]),_:1})])}var V=v(D,[["render",P]]);const W={name:"Correction",props:["question"],computed:{}},M={class:"correction"},R={class:"content"},F={class:"validation validation-container"},E={key:0,class:"validation-title validation_correct"},G=o("h3",{class:"validation-title validation_wrong"},"Wrong",-1),J={class:"validation-text validation-answer"},K={class:"explanation"},U={key:0,class:"advice"},X=o("h5",{class:"advice-title"},"Tips :",-1),Y=["innerHTML"];function Z(t,r,e,n,g,a){return s(),i("div",M,[o("div",R,[o("div",F,[e.question.userAnswer?(s(),i("h3",E,"Correct")):(s(),i(f,{key:1},[G,o("h5",J,"Correct answer was n\xB0"+l(e.question.answer)+" :",1),o("p",null,l(e.question.proposals[e.question.answer].label),1)],64))]),o("div",K,[(s(!0),i(f,null,A(e.question.corrections,(_,m)=>(s(),i("p",{key:m,class:"explanation-text"},l(_),1))),128))]),e.question.tips?(s(),i("div",U,[X,o("p",{innerHTML:e.question.tips},null,8,Y)])):w("",!0)]),B(t.$slots,"actions")])}var ee=v(W,[["render",Z]]);const se={name:"Proposition",props:["proposition"]},te={class:"proposition"},ne={class:"content"},oe={class:"title"};function ie(t,r,e,n,g,a){return s(),i("div",te,[o("div",ne,[o("p",oe,l(e.proposition.id)+".",1),o("p",null,l(e.proposition.label),1)])])}var re=v(se,[["render",ie],["__scopeId","data-v-37cadda0"]]);const ae={name:"Question",components:{Section:x,Image:j,AssessmentNavigation:V,Proposition:re,Correction:ee,AssessmentActions:N},props:["id"],data(){return{}},setup(){const t=Q();return t.startAssessment(),{assessmentStore:t}},created(){this.$router.push(`/questions/${this.assessmentStore.currentQuestion.id}`)},mounted(){},updated(){this.assessmentStore.nextQuestion(this.id),this.assessmentStore.currentQuestion.userAnswer===null&&this.assessmentStore.currentQuestion.fakeRedirect&&(this.validateQuestion(1),this.$router.push("/404"))},methods:{validateQuestion(t){this.correctionMode=!0,this.assessmentStore.validateQuestion(t)}}},ce={class:"content question"},le={class:"question-title"},ue={key:0,class:"propositions"};function de(t,r,e,n,g,a){const _=c("AssessmentNavigation"),m=c("Image"),u=c("Proposition"),k=c("AssessmentActions"),y=c("Correction"),C=c("Section");return s(),p(C,{type:"splited",height:"fullHeight"},{left:d(()=>[o("div",ce,[h(_,{questions:n.assessmentStore.assessment.questions},null,8,["questions"]),o("h2",le,"Question "+l(n.assessmentStore.currentQuestion.id)+" :",1),o("p",null,l(n.assessmentStore.currentQuestion.label),1),n.assessmentStore.currentQuestion.img?(s(),i(f,{key:0},[n.assessmentStore.currentQuestion.userAnswer!=null&&n.assessmentStore.currentQuestion.img.correction?(s(),p(m,{key:0,size:"fullWidth",filename:`question-${n.assessmentStore.currentQuestion.id}-correction.png`},null,8,["filename"])):(s(),p(m,{key:1,size:"fullWidth",filename:`question-${n.assessmentStore.currentQuestion.id}.png`},null,8,["filename"]))],64)):w("",!0)])]),right:d(()=>[h(I,{name:"slideLeft",mode:"out-in"},{default:d(()=>[n.assessmentStore.currentQuestion.userAnswer===null?(s(),i("div",ue,[(s(!0),i(f,null,A(n.assessmentStore.currentQuestion.proposals,S=>(s(),p(u,{key:S.id,proposition:S,onClick:_e=>a.validateQuestion(S.id)},null,8,["proposition","onClick"]))),128))])):(s(),p(y,{key:1,question:n.assessmentStore.currentQuestion},{actions:d(()=>[h(k,{next:!0})]),_:1},8,["question"]))]),_:1})]),_:1})}var he=v(ae,[["render",de],["__scopeId","data-v-44d58c40"]]);export{he as default};
